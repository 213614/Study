<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <title>06_callback함수.html</title>
        <!-- jQuery import -->
        <script src="jquery-3.6.1.min.js"></script>
    </head>
                                                                                                                                                                                                     
    <body>

        <button>*</button>
        <div id="panel"></div>

        <script>
            $("button").click(function(){
                // $.getJSON(url, callback함수(){}); → JSON 데이터를 가져온다
                $.getJSON("sungjuks.json", ResponseProc);
            });//cli end

            function ResponseProc(result, status, xhr){
                // callback함수를 외부로 뺀 것 
                //alert(result);
                //alert(status);
                //alert(xhr);

                let str = "<table border='1'>";

                $.each(result, function(idx, data){
                //each반복문은 result의 크기가 상관없이 끝까지 해줌 (for문은 끝을 알아야 반복을 돌림)
                //alert(idx);    // 요소순서(index)
                //alert(data);   // 각 배열의 요소 값(데이터)

                str += "<tr>";
                str += "    <td>" + data.name + "</td>" ;
                str += "    <td>" + data.id   + "</td>" ;
                str += "    <td>" + data.kor  + "</td>" ;
                str += "    <td>" + data.eng  + "</td>" ;
                str += "    <td>" + data.mat  + "</td>" ;
                str += "</tr>";
                });//each() end

                str += "</table>";
                $("#panel").empty();        //overwrite 덮어쓰기        
                $("#panel").append(str);
            }//RP() END
        </script>
    </body>
</html>